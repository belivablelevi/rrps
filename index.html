<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RPS Incremental Clicker</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Inter',sans-serif;background:radial-gradient(circle at top,#020617,#000);color:#fff;min-height:100vh;overflow-x:hidden}
#moneyDisplay{position:fixed;top:16px;right:16px;background:linear-gradient(135deg,#10b981,#22c55e);padding:14px 26px;border-radius:999px;font-weight:900;font-size:20px;color:#022c22;z-index:10}
.money-pop{transform:scale(1.1)}
.container{max-width:900px;margin:120px auto;background:#020617cc;padding:36px;border-radius:30px;text-align:center}
.choice{font-size:96px;margin:26px 0;cursor:pointer}
.buttons{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}
.buttons button{padding:18px 22px;font-size:18px;font-weight:800;border:none;border-radius:20px;background:#22c55e;color:#fff;cursor:pointer}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:18px;margin:32px 0}
.stat{background:#020617;border:1px solid #1e293b;padding:18px;border-radius:20px}
.fixed{position:fixed;bottom:20px;padding:14px 24px;border:none;border-radius:999px;font-weight:800;cursor:pointer;color:white}
#settingsBtn{left:20px;background:#3b82f6}
#techBtn{right:160px;background:#8b5cf6}
#statsBtn{right:20px;background:#0ea5e9}
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:50;justify-content:center;padding:50px 20px}
.modal-box{background:#020617;padding:28px;border-radius:24px;width:90%;max-width:820px}
.close{width:100%;padding:14px;margin-top:20px;border-radius:14px;border:none;font-weight:800;background:#ef4444;color:white;cursor:pointer}
.building{background:#0f172a;border:2px solid #1e293b;padding:16px;border-radius:16px;display:flex;cursor:pointer}
.building.disabled{opacity:.4;cursor:not-allowed}
.building-icon{font-size:40px;margin-right:16px}
.tooltip{position:fixed;background:#0f172a;padding:12px;border-radius:12px;display:none;z-index:100}
.particle{position:fixed;font-weight:900;animation:float 1s ease forwards}
@keyframes float{0%{opacity:1}100%{opacity:0;transform:translateY(-60px)}}
.laser{position:fixed;height:4px;background:red;animation:laser .4s forwards}
@keyframes laser{0%{width:0}100%{width:300px;opacity:0}}
</style>
</head>
<body>

<div id="moneyDisplay">$0</div>

<div class="container">
  <h1>Reverse Rock Paper Scissors</h1>
  <div id="computerChoice" class="choice">?</div>

  <div class="buttons">
    <button id="rockBtn">‚úä Rock</button>
    <button id="paperBtn">‚úã Paper</button>
    <button id="scissorsBtn">‚úåÔ∏è Scissors</button>
  </div>

  <div class="stats">
    <div class="stat">STREAK<br><b id="streak">0</b></div>
    <div class="stat">MULT<br><b id="mult">x1</b></div>
    <div class="stat">CASHOUT<br><b id="cash">$0</b></div>
    <div class="stat">P/S<br><b id="pps">0</b></div>
    <div class="stat">LUCK<br><b id="luck">0%</b></div>
  </div>

  <button id="cashoutBtn">üí∞ Cash Out</button>
</div>

<button id="settingsBtn" class="fixed">Rebirth</button>
<button id="techBtn" class="fixed">Tech</button>
<button id="statsBtn" class="fixed">Stats</button>

<!-- Rebirth / Settings modal so the button works -->
<div id="settings" class="modal">
  <div class="modal-box">
    <h2>Rebirth</h2>
    <p>Rebirth features coming soon.</p>
    <button class="close" onclick="closeModal('settings')">Close</button>
  </div>
</div>

<div id="tech" class="modal">
  <div class="modal-box">
    <h2>Buildings</h2>
    <div id="buildingsContainer"></div>
    <button class="close" onclick="closeModal('tech')">Close</button>
  </div>
</div>

<div id="stats" class="modal">
  <div class="modal-box">
    <div id="statsContent"></div>
    <button class="close" onclick="closeModal('stats')">Close</button>
  </div>
</div>

<script>
/* ===== CORE DATA ===== */
const choices=['rock','paper','scissors'];
let money=+localStorage.getItem('money')||0;
let streak=0;
let owned={bot:0};
let stats=JSON.parse(localStorage.getItem('stats'))||{best:0,earned:0,clicks:0};

/* ===== AUDIO SETUP ===== */
/* Small remote sounds via HTML5 Audio is a common quick approach for click SFX. [web:11][web:14] */
const clickSound = new Audio("https://www.fesliyanstudios.com/play-mp3/387");
const cashSound  = new Audio("https://www.soundjay.com/buttons/sounds/button-3.mp3");
const laserSound = new Audio("https://www.soundjay.com/mechanical/sounds/mechanical-switch-10.mp3");

function playClick(){
  clickSound.currentTime = 0;
  clickSound.play();
}
function playCash(){
  cashSound.currentTime = 0;
  cashSound.play();
}
function playLaser(){
  laserSound.currentTime = 0;
  laserSound.play();
}

/* ===== GAME LOGIC ===== */
function multiplier(){
  return 1 + Math.pow(streak,1.4)/10;
}

function payout(){
  return Math.floor(streak * 20 * multiplier());
}

function calcPlaysPerSecond(){
  return owned.bot;
}

function calcLuck(){ return 0; }

function update(){
  streakEl.textContent=streak;
  multEl.textContent='x'+multiplier().toFixed(2);
  cashEl.textContent='$'+payout();
  ppsEl.textContent=calcPlaysPerSecond();
  luckEl.textContent='0%';
  moneyDisplay.textContent='$'+money;
  localStorage.setItem('money',money);
}

/* ===== GAMEPLAY ===== */
function processGame(player,isBot){
  const comp=choices[Math.floor(Math.random()*3)];
  let win =
    (player==='rock'&&comp==='paper')||
    (player==='paper'&&comp==='scissors')||
    (player==='scissors'&&comp==='rock');

  if(win){ streak++; }
  else{ streak=0; }

  stats.best=Math.max(stats.best,streak);
  return comp;
}

function guess(player){
  stats.clicks++;
  const comp=processGame(player,false);
  computerChoice.textContent=comp;
  playClick();
  update();
}

function cashOut(){
  if(streak<1)return;
  const gain=payout();
  money+=gain;
  stats.earned+=gain;
  streak=0;
  playCash();
  update();
}

/* ===== BUILDINGS ===== */
function renderBuildings(){
  buildingsContainer.innerHTML='';
  const cost=Math.floor(15*Math.pow(1.15,owned.bot));
  const canBuy=money>=cost;

  const div=document.createElement('div');
  div.className='building'+(canBuy?'':' disabled');
  div.innerHTML=`<div class="building-icon">ü§ñ</div>
  <div>Practice Bot<br>Cost: $${cost}<br>Owned: ${owned.bot}</div>`;
  div.onclick=()=>{
    if(!canBuy)return;
    money-=cost;
    owned.bot++;
    playClick();
    renderBuildings();
    update();
  };
  buildingsContainer.appendChild(div);
}

/* ===== UI ===== */
function openModal(id){
  document.getElementById(id).style.display='flex';
  playClick();
  if(id==='tech')renderBuildings();
  if(id==='stats'){
    statsContent.innerHTML=`Best Streak: ${stats.best}<br>Total Earned: $${stats.earned}`;
  }
}
function closeModal(id){
  document.getElementById(id).style.display='none';
  playClick();
}

/* ===== LASER FX ===== */
function shootLaser(){
  const l=document.createElement('div');
  l.className='laser';
  l.style.left='50%';
  l.style.top='50%';
  document.body.appendChild(l);
  playLaser();
  setTimeout(()=>l.remove(),400);
}

/* ===== EVENTS ===== */
rockBtn.onclick=()=>guess('rock');
paperBtn.onclick=()=>guess('paper');
scissorsBtn.onclick=()=>guess('scissors');
cashoutBtn.onclick=cashOut;
settingsBtn.onclick=()=>openModal('settings');
techBtn.onclick=()=>openModal('tech');
statsBtn.onclick=()=>openModal('stats');

/* Optional: shoot a laser on each guess for extra feedback */
/*
rockBtn.addEventListener('click', shootLaser);
paperBtn.addEventListener('click', shootLaser);
scissorsBtn.addEventListener('click', shootLaser);
*/

/* ===== BOT LOOP ===== */
setInterval(()=>{
  for(let i=0;i<calcPlaysPerSecond();i++){
    processGame(choices[Math.floor(Math.random()*3)],true);
  }
  update();
},1000);

/* ===== INIT ===== */
const streakEl=document.getElementById('streak');
const multEl=document.getElementById('mult');
const cashEl=document.getElementById('cash');
const ppsEl=document.getElementById('pps');
const luckEl=document.getElementById('luck');
const moneyDisplay=document.getElementById('moneyDisplay');
const computerChoice=document.getElementById('computerChoice');
const buildingsContainer=document.getElementById('buildingsContainer');
const statsContent=document.getElementById('statsContent');

update();
</script>
</body>
</html>
